<% 
# Products on sale
if @sale_categories       %><%= render :partial => "caboose/blocks/osp/product_sales" %><%
  
# Single product
elsif @product             %><%= render :partial => "caboose/blocks/osp/product_details" %><%
 
# Multiple products
elsif @category
  
  # Products for vendor
  if params[:vendor_id] %><%= render :partial => "caboose/blocks/osp/vendor_products", :locals => { :vendor_id => params[:vendor_id] } %><%
      
  # Products for search query
  elsif params[:query]  %><%= render :partial => "caboose/blocks/osp/search_results", :locals => { :query => params[:query] } %><%
      
  # Products for category
  else                  %><%= render :partial => "caboose/blocks/osp/product_index" %><%
  end 

#  Invalid product
else   
  %><p>Invalid product.</p><%
end 

%>